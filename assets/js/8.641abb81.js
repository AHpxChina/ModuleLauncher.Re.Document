(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{377:function(a,s,t){"use strict";t.r(s);var e=t(44),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[a._v("#")]),a._v(" 下载")]),a._v(" "),t("p",[a._v("这也页面用来告诉你如何下载和补全Minecraft以及相关资源。")]),a._v(" "),t("h2",{attrs:{id:"downloaderbase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#downloaderbase"}},[a._v("#")]),a._v(" DownloaderBase")]),a._v(" "),t("p",[t("code",[a._v("DownloaderBase")]),a._v("是所有下载器的基类，其中，以下几个委托属性是公开的：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("DownloadStarted")]),a._v("，下载开始事件。")]),a._v(" "),t("li",[t("code",[a._v("DownloadCompleted")]),a._v("，下载结束事件（无论成功与否）。")]),a._v(" "),t("li",[t("code",[a._v("DownloadProgressChanged")]),a._v("，下载进度改变事件。")])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("下面的所有下载器类都会使用这三个委托作为对应事件处理器。")])]),a._v(" "),t("h2",{attrs:{id:"minecraftdownloader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minecraftdownloader"}},[a._v("#")]),a._v(" MinecraftDownloader")]),a._v(" "),t("p",[t("code",[a._v("MinecraftDownloader")]),a._v("封装了Minecraft下载相关的方法。")]),a._v(" "),t("h3",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),t("p",[t("code",[a._v("MinecraftDownloader")]),a._v("有一个"),t("code",[a._v("Source")]),a._v("属性用来指示应该用哪个下载源，默认为官方源，可选值有"),t("code",[a._v("Bmclapi")]),a._v("，"),t("code",[a._v("Mcbbs")]),a._v("和"),t("code",[a._v("Mojang")]),a._v("。")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("构造器")]),a._v(" "),t("p",[t("code",[a._v("MinecraftDownloader")]),a._v("的构造器需要一个"),t("code",[a._v("LocalityLocator")]),a._v("对象，但是也可以直接传入一个字符串。")])]),a._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" minecraftDownloader "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a._v("MinecraftDownloader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<.miencraft>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    Source "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" DownloaderSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Bmclapi\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])])]),a._v(" "),t("h3",{attrs:{id:"获取最新版的minecraft"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取最新版的minecraft"}},[a._v("#")]),a._v(" 获取最新版的Minecraft")]),a._v(" "),t("p",[a._v("此方法返回一个元组，"),t("code",[a._v("Item1")]),a._v("是"),t("code",[a._v("Release")]),a._v("，"),t("code",[a._v("Item2")]),a._v("是"),t("code",[a._v("Snapshot")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" latestMinecrafts "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" minecraftDownloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("GetLatestVersions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"获取所有minecraft版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取所有minecraft版本"}},[a._v("#")]),a._v(" 获取所有Minecraft版本")]),a._v(" "),t("p",[a._v("此方法返回一个"),t("code",[a._v("IEnumerable<MinecraftDownloadItem>")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" minecrafts "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" minecraftDownloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("GetRemoteMinecrafts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[a._v("获取指定类型的Minecraft")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//获取所有类型为Release的Minecraft")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" specifiedTypeMinecrafts "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" minecraftDownloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("GetRemoteMinecrafts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("Where")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=>")]),a._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Type "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" MinecraftDownloadType"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])])]),a._v(" "),t("h3",{attrs:{id:"根据id获取指定版本的miencraft"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据id获取指定版本的miencraft"}},[a._v("#")]),a._v(" 根据id获取指定版本的Miencraft")]),a._v(" "),t("p",[a._v("此方法返回一个"),t("code",[a._v("MinecraftDownloadItem")]),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"下载minecraft"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载minecraft"}},[a._v("#")]),a._v(" 下载Minecraft")]),a._v(" "),t("p",[a._v("根据指定的id下载Minecraft。")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" minecraftDownloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("Download")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("如果文件已经存在则不会下载。")])]),a._v(" "),t("h2",{attrs:{id:"dependenciesdownloader"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dependenciesdownloader"}},[a._v("#")]),a._v(" DependenciesDownloader")]),a._v(" "),t("p",[a._v("依赖下载器。")]),a._v(" "),t("h3",{attrs:{id:"配置-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-2"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),t("p",[a._v("依赖下载器同样存在一个"),t("code",[a._v("Source")]),a._v("属性用来指定下载源，用法同上。")]),a._v(" "),t("p",[a._v("依赖下载器的构造器需要传入一个"),t("code",[a._v("IEnumerable<Dependency>")]),a._v("对象。")]),a._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" librariesLocator "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a._v("LibrariesLocator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<.miencraft>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" dependencies "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" librariesLocator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("GetDependencies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<id>"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" dependenciesDownloader "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a._v("DependenciesDownloader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("dependencies"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])])]),a._v(" "),t("h3",{attrs:{id:"开始下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始下载"}},[a._v("#")]),a._v(" 开始下载")]),a._v(" "),t("p",[a._v("此方法还有一个叫做"),t("code",[a._v("parallelCount")]),a._v("的参数用来指示最大并行下载数，默认为5。")]),a._v(" "),t("div",{staticClass:"language-cs line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cs"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("await")]),a._v(" dependenciesDownloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("Download")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);